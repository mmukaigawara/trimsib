% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_trim_data.R
\name{get_trim_data}
\alias{get_trim_data}
\title{Select clusters to trim and return a quantile-trimmed dataset}
\usage{
get_trim_data(data_list, criteria, trim_level)
}
\arguments{
\item{data_list}{Either:
\itemize{
\item the list returned by \code{suggest_trim()} (containing
\code{original_data} and \code{data_for_trimming}); OR
\item a data frame like \code{data_for_trimming} (with columns
\code{cluster}, \code{trim_level}, \code{abs_error}); OR
\item a named list/data frame where element \code{df_name_trim} is the
trimming diagnostics and \code{df_name_orig} is the original data.
}}

\item{criteria}{Numeric scalar threshold applied to per-cluster
\code{max(abs_error)}; clusters with \code{max(abs_error) >= criteria}
are trimmed. If \code{NULL} and \code{top_n} is provided, \code{top_n}
rule is used. (Default \code{NULL}.)}

\item{trim_level}{Numeric in \eqn{(0, 1)}. Symmetric trim proportion (e.g.,
\code{0.10} drops 5\% in each tail).}
}
\value{
A data frame identical to the original input data (column-wise), plus a
logical/numeric \code{trim} column (\code{1} = trimmed cluster, \code{0} = not
trimmed). The vector of cluster IDs that were trimmed is attached as
attribute \code{"trimmed_clusters"}.
}
\description{
A function that performs within-cluster symmetric trimming on
at level \code{trim_level}
}
